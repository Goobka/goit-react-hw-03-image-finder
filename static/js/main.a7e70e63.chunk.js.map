{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/ErrorBoundary/ErrorBoundary.jsx","services/img-api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchForm__button","SearchForm__button__label","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","onClick","webformatURL","largeImage","src","alt","ImageGalleryItem__image","ImageGallery","images","map","id","largeImageURL","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","Button","style","button","Loader","loader","color","height","width","ErrorBoundary","error","errorInfo","whiteSpace","toString","componentStack","children","axios","defaults","baseURL","fetchImg","a","searchQuery","currentPage","get","axiosGetResult","data","App","showModal","totalHits","isLoading","message","handleClickButton","fetchApi","openModal","img","closeModal","prevState","onChangeQuery","options","then","hits","catch","finally","prevProps","snapshot","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a7e70e63.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3Jj9u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","import { Component} from 'react';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = (e) => {\n    this.setState({ query: e.currentTarget.value });\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  }\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchForm__button}>\n            <span className={styles.SearchForm__button__label}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    )\n  }\n}\n\nexport default Searchbar;","import styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({onClick, webformatURL, largeImage}) => (\n  <li className={styles.ImageGalleryItem} onClick={() => onClick(largeImage)}>\n    <img src={webformatURL} alt=\"\" className={styles.ImageGalleryItem__image} />\n  </li>\n)\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  largeImage: PropTypes.string,\n  onClickImage: PropTypes.func,\n};\n\nexport default ImageGalleryItem;","import ImageGalleryItem from '../ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({onClick, images}) => (\n  <ul className={styles.ImageGallery}>\n    {images.map(({id, webformatURL, largeImageURL}) => <ImageGalleryItem onClick={onClick} key={id} webformatURL={webformatURL} largeImage={largeImageURL}/>)}\n  </ul>\n)\n\nexport default ImageGallery;","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  }\n\n  handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  }\n\n  render() {\n    const { largeImage } = this.props;\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>\n          <img src={largeImage} alt=\"\" />\n        </div>\n      </div>, modalRoot);\n  }\n}\n\nexport default Modal;","import PropTypes from 'prop-types';\nimport style from './Button.module.css';\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" className={style.button} onClick={onClick}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;","import LoaderMarkup from 'react-loader-spinner';\nimport style from './Loader.module.css';\n\nconst Loader = () => (\n  <div className={style.loader}>\n    <LoaderMarkup type=\"Puff\" color=\"#303f9f\" height={80} width={80} />\n  </div>\n);\n\nexport default Loader;","import { Component } from 'react';\n\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { error: null, errorInfo: null };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    this.setState({\n      error: error,\n      errorInfo: errorInfo\n    })\n  }\n\n  render() {\n    if (this.state.errorInfo) {\n      return (\n        <div>\n          <h2>Something went wrong.</h2>\n          <details style={{ whiteSpace: 'pre-wrap' }}>\n            {this.state.error && this.state.error.toString()}\n            <br />\n            {this.state.errorInfo.componentStack}\n          </details>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;","import axios from 'axios';\n\nconst key = '21126804-85bb01ef7c150b1f15b426857';\naxios.defaults.baseURL = `https://pixabay.com/api/?key=${key}&per_page=12`;\n\nconst fetchImg = async ({searchQuery, currentPage}) => {\n  try {\n    const axiosGetResult = await axios.get(`&q=${searchQuery}&page=${currentPage}`);\n    return axiosGetResult.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport default fetchImg;","import { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport ErrorBoundary from './components/ErrorBoundary';\nimport fetchImg from './services/img-api';\nimport './styles.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    showModal: false,\n    searchQuery: '',\n    totalHits: 0,\n    currentPage: 1,\n    isLoading: false,\n    largeImage: '',\n    message: '',\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.state.searchQuery !== prevState.searchQuery) {\n      this.fetchApi();\n    };\n    if (snapshot) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (prevState.images.length < this.state.images.length) {\n      return true;\n    }\n    return false;\n  }\n\n  handleClickButton = () => {\n    this.fetchApi();\n  };\n\n  openModal = (img) => {\n    this.setState(({showModal, largeImage}) => ({\n      showModal: true,\n      largeImage: img,\n    }))\n  }\n\n  closeModal = () => {\n    this.setState(prevState => ({\n      largeImage: '',\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      images: [],\n      totalHits: 0,\n      currentPage: 1,\n      error: null,\n      isLoading: false,\n      showModal: false,\n    });\n  }\n\n  fetchApi = () => {\n    const { searchQuery, currentPage } = this.state;\n    const options = { searchQuery, currentPage };\n    this.setState({ isLoading: true });\n\n    fetchImg(options).then(({ hits, totalHits }) => {\n        this.setState({ totalHits: totalHits });\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      }).catch(error => this.setState({ error })).finally(() => this.setState({ isLoading: false }));\n  }\n\n  render() {\n    const {\n      images,\n      totalHits,\n      isLoading,\n      largeImage,\n      showModal,} = this.state;\n\n    return (\n      <ErrorBoundary>\n        <Searchbar onSubmit={this.onChangeQuery}/>\n\n        <ImageGallery onClick={this.openModal} images={images} />\n\n        {isLoading && <Loader />}\n\n        {totalHits > 12 && <Button onClick={this.handleClickButton} />}\n\n        {showModal && (\n          <Modal onClose={this.closeModal} largeImage={largeImage}>\n          </Modal>\n        )}\n      </ErrorBoundary>\n    )\n  };\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchForm__button\":\"Searchbar_SearchForm__button__wM7NY\",\"SearchForm__button__label\":\"Searchbar_SearchForm__button__label__w-x-_\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1-9Kh\"};"],"sourceRoot":""}